<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>个人博客列表</title>
    <link rel="stylesheet" href="css/common.css" />
    <link rel="stylesheet" href="css/blog_list.css" />
    <script src="js/jquery.min.js"></script>
  </head>
  <body>
    <div class="nav">
      <img src="images/logo.jpg" alt="导航栏图片" />
      <span class="title">我的博客系统</span>
      <div class="spacer"></div>
      <a href="blog_list.html">主页</a>
      <a href="blog_edit.html">写博客</a>
      <a href="logout">注销</a>
    </div>

    <div class="container">
      <div class="container-left">
        <div class="card">
          <img src="images/ProfilePicture.jpg" alt="头像" />
          <h3 id="username"></h3>
          <a href="#">github地址</a>
          <div class="counter">
            <span>文章</span>
            <span>分类</span>
          </div>
          <div class="counter">
            <span id="article-total"></span>
            <span>1</span>
          </div>
        </div>
      </div>
      <div class="container-right">
        <!-- <div class="blog">
          <div class="title">出师表</div>
          <div class="date">2022-11-06 22:29</div>
          <div class="desc">
            先帝创业未半而中道崩殂，今天下三分，益州疲弊，此诚危急存亡之秋也。然侍卫之臣不懈于内，忠志之士忘身于外者，盖追先帝之殊遇，欲报之于陛下也。诚宜开张圣听，以光先帝遗德，恢弘志士之气，不宜妄自菲薄，引喻失义，以塞忠谏之路也。
          </div>
          <a href="blog_detail.html">查看全文 &gt;&gt; </a>
        </div> -->
      </div>
    </div>

    <script>
      function showInfo() {
        jQuery.ajax({
          url: "/user/showinfo",
          type: "post",
          data: {},
          success: function(result) {
            if (result != null && result.code == 200){
              jQuery("#username").text(result.data.username);
              jQuery("#article-total").text(result.data.articleTotal);
            } else{
              alert("个人信息加载失败，请刷新页面");
            }
          }
        });
      }
      showInfo();
    </script>
  </body>
</html>
